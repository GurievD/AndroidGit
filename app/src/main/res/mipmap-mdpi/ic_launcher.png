package com.example.myapplication21.presentaton.fragment

import android.os.Bundle
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import com.example.myapplication21.R
import com.example.myapplication21.domain.Student
import com.example.myapplication21.domain.usecase.function.sort.SortByMarkUseCase
import com.example.myapplication21.domain.usecase.function.sort.SortByNameUseCase
import com.example.myapplication21.domain.usecase.function.sort.SortByRandomUseCase
import com.example.myapplication21.domain.usecase.function.sort.StudentSortUseCase
import com.example.myapplication21.presentaton.adapter.ViewPagerAdapter
import com.example.myapplication21.presentaton.contract.StudentsFragmentContract
import com.example.myapplication21.presentaton.presenter.StudentsFragmentPresenter
import com.example.myapplication21.presentaton.utils.getBest3Students
import kotlinx.android.synthetic.main.activity_registration.*
import kotlinx.android.synthetic.main.fragment_viewpager.*
import javax.inject.Inject

class ViewPagerFragment : BaseFragment() {
    var rootView: View? = null
    var arrayListOfStudents: ArrayList<Student> = ArrayList()
    var adapterPosition: Int? = null
    var studentsFragmentContractView: StudentsFragmentContract.View? = null
    var sortByNameUseCase: SortByNameUseCase = SortByNameUseCase()
    var sortByMarkUseCase: SortByMarkUseCase = SortByMarkUseCase()
    var sortByRandomUseCase: SortByRandomUseCase = SortByRandomUseCase()
    var studentsFragmentPresenter: StudentsFragmentPresenter = StudentsFragmentPresenter()
    var viewPagerAdapter: ViewPagerAdapter? = null
    var student: Student? = null
    var studentFormFragment: StudentFormFragment? = null
    var studentsSortUseCase: StudentSortUseCase = StudentSortUseCase()

//    @Inject lateinit var studentsSortUseCase: StudentSortUseCase

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {
        rootView = inflater.inflate(R.layout.fragment_viewpager, container, false)
        return rootView
    }

    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)

//        DaggerStudentSortUseCaseRepositoryComponent
//            .builder()
//            .studentSortUseCaseRepositoryModule(StudentSortUseCaseRepositoryModule())
//            .build()
//            .viewpagerInject(this)

        initializeStudentsData()
        initializeViewPagerAdapter()
        arrayListOfStudents